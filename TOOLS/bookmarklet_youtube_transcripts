javascript:(function(){  let captured = false;  function capturePlainTranscript(){    if(captured) return;    const entries = performance.getEntries().filter(e => e.name.includes('timedtext') && e.name.includes('fmt=json3'));    if(entries.length === 0) {      alert('No captions detected yet. Enable captions first, let video run 10 seconds then click this bookmark again.');      return;    }    const url = entries[entries.length - 1].name;    fetch(url).then(r=>r.json()).then(json=>{      const events = json.events;      let transcript = '';      for(let event of events){        if(!event.segs) continue;        const text = event.segs.map(s=>s.utf8).join('').trim();        if(text) transcript += text + ' ';      }      transcript = transcript.trim();      const blob = new Blob([transcript], {type:'text/plain'});      const a = document.createElement('a');      a.href = URL.createObjectURL(blob);      a.download = 'transcript.txt';      document.body.appendChild(a);      a.click();      document.body.removeChild(a);      URL.revokeObjectURL(a.href);      captured = true;    }).catch(e=>alert('Error fetching transcript. Ensure captions are turned on, wait 10 seconds and try again.'));  }  capturePlainTranscript();})();
